<div class="col-xs-12 col-sm-12">
    <div class="mobile-breadcrumbs-wrapper">
        <ul class="mobile-breadcrumbs-group list-inline">
            <li><a href="#!<% $ctrl.laravel_routes['/'] %>">Home</a></li>
            <li><a href="#">ASP Activities</a></li>
            <li><a href="#!/rsa-case-pkg/activity-status/list">Status</a></li>
        </ul>
    </div>
</div>
<div class="container-fluid dataTable-content--wrapper">
    <div class="row">
        <div class="col-xs-12 col-sm-12">
            <div class="row">
                <div class="col-xs-12 col-sm-6">
                    <div class="dataTable--left_wrapper">
                        <h2 class="dataTable-title">Status</h2>
                        <p>Total - <span class="orange-txt"><span class="count">0</span></span></p>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-6">
                    <div class="dataTable-top--right_wrapper">
                        <ul class="dataTable-top--right_group list-inline">
                            <!-- <div class="float-right"> -->
                            <li ng-if="$ctrl.canExportActivity"> <button class="btn btn-md preview-batch export" data-toggle="modal" data-target="#asp_excel_export">Export</button></li>
                            <!-- </div> -->
                            <!-- <li><a href="javascript:void(0)" class="btn btn-md" ng-click="">Export</a></li> -->
                            <li><input class="filterTable" type="text" placeholder="Search"></li>
                            <li><a href="javascript:void(0)" class="btn btn-md" ng-click="refresh()">Refresh</a></li>
                            <li>
                                <img src="<% $ctrl.filter_img_url %>" class="filterToggle">
                                <div class="filter-wrapper" id='filterticket'>
                                    <div class="filter-overlay"></div>
                                    <div class="filter-content">
                                        <div class="filter-header">
                                            <h2>Ticket Filter</h2>
                                        </div>
                                        <div class="filter-body">
                                            <div class="form-group">
                                                <input id="ticket_date" class="form-control filter-input date-picker" type="text" placeholder="Date" autocomplete="off">
                                            </div>
                                            <div class="form-group">
                                                <md-select ng-model="$ctrl.call_center_id" ng-change="changeCommonFilter($ctrl.call_center_id, 'call_center_id')" placeholder="Select Call Center">
                                                    <md-option ng-repeat="val in $ctrl.extras.call_center_list" value="{{val.id}}">{{val.name}}</md-option>
                                                </md-select>
                                                <input type="hidden" name="call_center_id" value="" id="call_center_id">
                                            </div>
                                            <div class="form-group">
                                                <input id="case_number" class="form-control filter-input" type="text" placeholder="Case Number" autocomplete="off">
                                            </div>
                                            <div class="form-group">
                                                <input id="asp_code" class="form-control filter-input" type="text" placeholder="ASP Code" autocomplete="off">
                                            </div>
                                            <div class="form-group">
                                                <md-select ng-model="$ctrl.service_type_id" ng-change="changeCommonFilter($ctrl.service_type_id,'service_type_id')" placeholder="Select Service Type">
                                                    <md-option ng-repeat="val in $ctrl.extras.service_type_list" value="{{val.id}}">{{val.name}}</md-option>
                                                </md-select>
                                                <input type="hidden" name="service_type_id" value="" id="service_type_id">
                                            </div>
                                            <div class="form-group">
                                                <md-select ng-model="$ctrl.finance_status_id" ng-change="changeCommonFilter($ctrl.finance_status_id,'finance_status_id')" placeholder="Select Finance Status">
                                                    <md-option ng-repeat="val in $ctrl.extras.finance_status_list" value="{{val.id}}">{{val.name}}</md-option>
                                                </md-select>
                                                <input type="hidden" name="finance_status_id" value="" id="finance_status_id">
                                            </div>
                                            <div class="form-group">
                                                <md-select ng-model="$ctrl.status_id" ng-change="changeCommonFilter($ctrl.status_id,'status_id')" placeholder="Select Status">
                                                    <md-option ng-repeat="val in $ctrl.extras.status_list" value="{{val.id}}">{{val.name}}</md-option>
                                                </md-select>
                                                <input type="hidden" name="status_id" value="" id="status_id">
                                            </div>
                                            <div class="form-group">
                                                <md-select ng-model="$ctrl.activity_status_id" ng-change="changeCommonFilter($ctrl.activity_status_id,'activity_status_id')" placeholder="Select Activity Status">
                                                    <md-option ng-repeat="val in $ctrl.extras.activity_status_list" value="{{val.id}}">{{val.name}}</md-option>
                                                </md-select>
                                                <input type="hidden" name="activity_status_id" value="" id="activity_status_id">
                                            </div>
                                            <div class="form-group">
                                                <md-select ng-model="$ctrl.client_id" ng-change="changeCommonFilter($ctrl.client_id,'client_id')" placeholder="Select Client">
                                                    <md-option ng-repeat="val in $ctrl.extras.client_list" value="{{val.id}}">{{val.name}}</md-option>
                                                </md-select>
                                                <input type="hidden" name="client_id" value="" id="client_id">
                                            </div>
                                            <div class="form-group">
                                                <div class="filter-btns">
                                                    <!-- <a href="javascript:;" class="reset-filter  btn btn-primary yellow reset-filter1">RESET</a> -->
                                                    <a href="javascript:;" class="close-filter btn btn-primary">CLOSE</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <table id="activities_status_table" class="display table dataTable">
                    <thead>
                        <tr>
                            <th style="width: 100px;">Actions</th>
                            <th>Date</th>
                            <th>Case Number</th>
                            <th>ASP Code</th>
                            <th>CRM Activity ID</th>
                            <!-- <th>Activity Number</th> -->
                            <th>Service</th>
                            <!-- <th>ASP Status</th> -->
                            <th>Finance Status</th>
                            <th>Status</th>
                            <th>Activity Status</th>
                            <th>Client</th>
                            <th>Call Center</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade asp_for_find" id="asp_excel_export" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <a href="#" type="button" class="close" data-dismiss="modal" aria-label="Close">
            <img class="close_btn" src="{{ $ctrl.modal_close }}">
          </a>
          <h4 class="modal-title">Export Activities</h4>
        </div>
        <form id="export_excel_form" name="export_excel_form" action="{{$ctrl.export_activities}}" method="post">
            <input type="hidden" name="_token" value="{{$ctrl.csrf}}" />
          <div class="modal-body">
            <div class="approvalModal-wrapper">
                <div class="viewData-threeColumn--wrapper">
                <div class="row">
                  <div class="col-md-12">
                    <div class="row"> 
                        <div class="col-sm-6">
                            <div class="input-text form-group">
                                  <label>Period<sup class="req"  style="color:red">*</sup></label>                         
                                  <input class="form-control customForm-input" autocomplete="off" name="period" type="text" value='' ng-model ="$ctrl.period" ng-required="true">
                                    
                            </div><!-- Field -->
                            
                        </div><!-- Column -->
                        <div class="col-sm-6">
                            <div class="input-text form-group">
                              <label>Activity Status<sup class="req"  style="color:red">*</sup></label>
                                <md-select ng-model="$ctrl.status_ids" md-on-close="clearSearchTerm()" name="status_ids" data-md-container-class="selectdemoSelectHeader" multiple md-no-asterisk class="error_messages required" ng-required="true" placeholder="Select Activity Status" ng-change="changeStatus($ctrl.status_ids)">
                                    <md-select-header class="demo-select-header mdselect-header">
                                        <input ng-model="searchTerm" type="search" placeholder="Search for a Activity Status" class="demo-header-searchbox md-text" onkeydown="mdSelectOnKeyDownOverride(event)">
                                    </md-select-header>
                                    <md-optgroup label="activity_portal_status">
                                        <md-button class="select-all-button" layout-fill ng-value="$ctrl.pc_all" ng-click="selectAll($ctrl.pc_all)" id="pc_sel_all">All</md-button>
                                        <md-option ng-value="status.id" ng-repeat="status in $ctrl.extras.status_list |filter:searchTerm">{{status.name}}</md-option>
                                    </md-optgroup>
                                </md-select>
                                <input type="hidden" name="status_ids" value="{{$ctrl.status_ids}}" />
                                

                            </div>
                        </div>
                     </div>
                     <div class="approvalModal-btns">
                        <button type="submit" class="differed-btn blue approve-btn">Export</button>
                     </div>
                </div>
            </form> 
      </div>

    </div>
</div>